.. :maxdepth: 2

========================================
Комманды YETI CLI
========================================

:Сайт: https://yeti-switch.org/

Внутренние команды
-----------------

exit
    Выход из консоли
formatting disable
    Отключение режима автоматического форматирования вывода
formatting enable
    Включение режима автоматического форматирования вывода
list
    Отобразить список нод
use <Node-id>
    Переключиться на ноду <Node-id>
    
Команды Show
-------------

show calls
    Отображает список активных звонков
show calls <LOCAL-TAG>
    Отображает детали одного активного звонка с соответствующим local_tag
show calls count
    Отображает количество активных звонков
show calls fields
    Отображает поля звонка для данной системы
show calls filtered
    Отображает список активных звонков с выводом только запрошенных полей
show calls filtered WHERE
    Отображает список активных звонков с фильтром
show configuration
    Отображает текущую конфигурацию
show interfaces
    Отображает конфигурации сетевых интерфейсов и режимов их работы
show media streams
    Отображает активные RTP потоки
show radius authorization profiles
    Отображает загруженные профили radius-авторизации
show radius authorization statistic
    Отображает статистику radius-авторизации
show registrations
    Отображает активные регистрации на внешних SIP-серверах
show resource types
    Отображает типы ресурсов системы
show resource state <type>/-1 <id>/-1
    Отображает состояние ресурса выбранного типа
show resource state <type>/-1 <id>/-1 used
    Отображает состояние использования ресурса выбранного типа
show router cache
    Отображает кэш роутера
show router cdrwriter opened-files
    Отображает количество открытых роутером файлов для записи CDR
show sensors
    Отображает активные сенсоры системы, которые используются для зеркалирования трафика
show sessions 
    Отображает активные сессии
show stats
    Отображает статистику системы
show system alarms
    Отображает записи аварийных уведомлений системы
show system dump-level
    Отображает текущий уровень логгирования для сброса дампа на диск
show system log-level
    Отображает текущий уровень логгирования системы
show system session-limit
    Отображает активные лимиты системы
show system status
    Отображает сводную таблицу статистики системы
show version
    Отображает текущую версию SEMS


Команды Request
----------------

request call disconnect <LOCAL-TAG>
    Выполняет запрос на прекращение активного звонка по значению его параметра LOCAL-TAG
request media payloads
    Выполняет запрос на отображение текущих значений 'payload' для медиа-кодеков
request media payloads benchmark
    Выполняет запрос на проведение тестирования медиа-кодеков и отображение его результатов
request radius authorization profiles reload
    Выполняет принудительный запрпос на перезагрузку профилей авторизации RADIUS
request registrations reload
    Выполняет запрос на перезагрузку всех активных регистраций на внешних SIP-серверах
request registrations renew <id>
    Выполняет запрос на обновление параметров регистрации на внешнем SIP-серверу по её идентификатору <id>
request resolver clear
    Выполняет запрос на очистку кэша DNS
request resolver get <name>
    Выполняет DNS-запрос для заданного доменного имени
request resource invalidate
    Выполняет запрос на принудительное обнуление используемых системных ресурсов ноды Yeti (Используется для целей отладки)
request router cache clear
    Выполняет запрос на очистку кэша подсистемы маршрутизации
request router cdrwriter close-files
    Выполняет запрос на закрытие временных файлов для записи CDR
request router codec-groups reload 
    Выполняет запрос на перезагрузку групп медиа-кодеков
request router reload
    Выполняет запрос на перезагрузку подсистемы маршрутизации
request router resources reload
    Выполняет запрос на перезагрузку ресурсов системы, используемы подсистемой маршрутизации
request router translations reload 
    Выполняет запрос на перезагрузку трансляций номеров подсистемы маршрутизации
request sensors reload
    Выполняет запрос на перезагрузку сенсоров 
request stats clear
    Выполняет запрос на очистку статистики системы
request system log dump
    Выполняет запрос на сохранение лога SEMS из оперативной памяти в файл
request system shutdown
    Выполняет запрос на выключение системы. В данном режиме отправляются запросы BYE/CANCEL для активных звонков и ожидается нормальное их завершение
request system shutdown cancel
    Выполняет запрос на отмену операции выключения системы
request system shutdown graceful
    Выполняет запрос на выключение системы. В данном режиме система ожидает завершение активных звонков, однако не принимает новые
request system shutdown immediate
    Выполняет запрос на немедленное отключение системы. Активные звонки сбрасываются без отправки каких-либо сообщений





Команды Set
------------
set system dump-level signalling
    Устанавливает системный уровень дампа в значение 'signaling'. В данном режиме производится сохранение данных сигналицазии в файл.
set system dump-level rtp
    Устанавливает системный уровень дампа в значение 'rtp'. В данном режиме производится сохранение данных медиа-потока в файл.

set system dump-level full
    Устанавливает системный уровень дампа в значение 'full'. В данном режиме производится сохранение данных сигналицазии и медиа-потока в файл.
    
set system dump-level none
    Устанавливает системный уровень дампа в значение 'none'. В данном режиме не производится сохранение данных файл.
    
set system log-level di_log <log_level>
    Устанавливает системный уровень лога в памяти. Где <log_level> принимает значения от 0-3 (0-Disable, 1-Error, 2-Warning, 3-Debug)
    
set system log-level syslog <log_level>
    Устанавливает системный уровень лога в syslog. Где <log_level> принимает значения от 0-3 (0-Disable, 1-Error, 2-Warning, 3-Debug)
    
set system session-limit <limit> <overload response code> <overload response reason> 
    none
        


Запуск команд на всех нодах
------------------------
Вы можете использовать слово "all" перед командой, для того чтобы выполнить ее на всех нодах


Фильтрация вывода команд
------------------------
Вы можете использовать "|" для фильтрации вывода команд
